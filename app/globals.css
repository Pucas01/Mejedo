@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* ---------------------- Fonts ---------------------- */
@font-face {
  font-family: 'JetBrainsMonoNF';
  src: url('/fonts/JetBrainsMonoNerdFont-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

:root {
  --background: #ffffff;
  --foreground: #171717;

  /* Set your custom fonts */
  --font-sans: var(--font-geist-sans);
  --font-mono: 'JetBrainsMonoNF', monospace;

  /* Slider theme colors - Default (Futaba/Green) */
  --slider-thumb-gradient-start: #6aac5a;
  --slider-thumb-gradient-mid: #5a9c4a;
  --slider-thumb-gradient-end: #4a7c3a;
  --slider-thumb-border-light: #7abc6a;
  --slider-thumb-border-dark: #2a5c1a;
  --slider-thumb-shadow-light: #8acc7a;
  --slider-thumb-shadow-dark: #1a4c0a;
  --slider-thumb-hover-start: #7abc6a;
  --slider-thumb-hover-mid: #6aac5a;
  --slider-thumb-hover-end: #5a9c4a;
  --slider-progress-fill: #4a7c3a;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-mono); /* Apply Nerd Font globally */
  cursor: url('/cursors/Normal.cur'), auto;
}

/* Custom Futaba Sakura cursors */
a, button, [role="button"], .cursor-pointer {
  cursor: url('/cursors/Link.cur'), pointer;
}

input[type="text"], input[type="email"], input[type="password"], textarea {
  cursor: url('/cursors/Text.cur'), text;
}

*:disabled, [disabled] {
  cursor: url('/cursors/Unavailable.cur'), not-allowed;
}

[title], [data-tooltip] {
  cursor: url('/cursors/Help.cur'), help;
}

/* ---------------- Animations ---------------- */
@keyframes fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}
.animate-fade-in {
  animation: fade-in 0.4s ease-in-out;
}

@keyframes fadeIn {
  0% { opacity: 0; }
  100% { opacity: 1; }
}
.animate-fadeIn {
  animation: fadeIn 0.3s ease-out;
}

@keyframes slideUp {
  0% {
    opacity: 0;
    transform: translateY(30px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}
.animate-slideUp {
  animation: slideUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes slideDown {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(30px) scale(0.95);
  }
}
.animate-slideDown {
  animation: slideDown 0.3s ease-in forwards;
}

@keyframes fadeOut {
  0% { opacity: 1; }
  100% { opacity: 0; }
}
.animate-fadeOut {
  animation: fadeOut 0.3s ease-out forwards;
}

@keyframes tilt {
  0%, 50% { transform: rotate(-3deg); }
  51%, 100% { transform: rotate(3deg); }
}
.animate-tilt {
  animation: tilt 0.8s steps(1, end) infinite;
}

/* ---------------- Custom dashed border ---------------- */
.custom-dash {
  border-bottom: 3px dashed transparent;
  padding-bottom: 20px;
  border-image: repeating-linear-gradient(
    to right,
    #9ca3af 0,      /* dash color */
    #9ca3af 8px,    /* dash length */
    transparent 5px,
    transparent 14px
  ) 1;
}

.cursor {
  font-weight: bold;
}

@keyframes blink {
  50% { opacity: 0; }
}
.animate-blink {
  animation: blink 1s step-end infinite;
  display: inline;
}

@keyframes fadeInSlow {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Mascot speech bubble animations */
@keyframes bubble-enter {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.9);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes bubble-exit {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(10px) scale(0.9);
  }
}

.animate-bubble-enter {
  animation: bubble-enter 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-bubble-exit {
  animation: bubble-exit 0.25s ease-in forwards;
}

/* Mascot bounce animation */
@keyframes mascot-bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

.animate-mascot-bounce {
  animation: mascot-bounce 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.animate-mascot-bounce-fast {
  animation: mascot-bounce 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Rhythm game feedback animation */
@keyframes rhythm-feedback {
  0% {
    opacity: 1;
    transform: translateX(-50%) translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateX(-50%) translateY(-20px) scale(1.2);
  }
}

.animate-rhythm-feedback {
  animation: rhythm-feedback 0.3s ease-out forwards;
}

/* Achievement toast progress bar */
@keyframes shrink-bar {
  0% { width: 100%; }
  100% { width: 0%; }
}

.animate-shrink-bar {
  animation: shrink-bar linear forwards;
}

/* Achievement unlock glow */
@keyframes achievement-glow {
  0%, 100% { box-shadow: 0 0 5px #39ff14, 0 0 10px #39ff14; }
  50% { box-shadow: 0 0 10px #39ff14, 0 0 20px #39ff14, 0 0 30px #39ff14; }
}

.animate-achievement-glow {
  animation: achievement-glow 1s ease-in-out 3;
}

/* Arrow hint animation for easter egg */
@keyframes arrow-hint {
  0% {
    opacity: 0;
    transform: scale(0.5);
  }
  30% {
    opacity: 1;
    transform: scale(1.2);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(1.8);
  }
}

.animate-arrow-hint {
  animation: arrow-hint 0.6s ease-out forwards;
}

/* Widget menu dropdown animation */
@keyframes dropdown {
  0% {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-dropdown {
  animation: dropdown 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Windows Vista/XP style range sliders */
input[type="range"].retro-slider {
  -webkit-appearance: none;
  appearance: none;
  height: 16px;
  background: transparent;
  outline: none;
  cursor: url('/cursors/Link.cur'), pointer;
}

/* Chrome - Base Input (Ensures the container is tall enough) */
input[type="range"].retro-slider {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  height: 24px; /* Added height to prevent the 20px thumb from clipping */
  box-sizing: border-box; 
}

/* Chrome - Track */
input[type="range"].retro-slider::-webkit-slider-runnable-track {
  width: 100%;
  height: 20px; /* Increased from 16px to match Firefox's visual scale */
  background: linear-gradient(to bottom, #2a3a2a 0%, #1a2a1a 50%, #2a3a2a 100%);
  border: 2px solid;
  border-color: #0a0a0a #4a5a4a #4a5a4a #0a0a0a;
  border-radius: 2px;
  overflow: hidden;
}

/* Chrome - Thumb */
input[type="range"].retro-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 14px;
  height: 24px; /* Increased to stay larger than the track */
  margin-top: -4px; /* Adjusted centering: (20/2) - (24/2) = -2, plus offset for border */
  background: linear-gradient(to bottom, var(--slider-thumb-gradient-start) 0%, var(--slider-thumb-gradient-mid) 50%, var(--slider-thumb-gradient-end) 100%);
  border: 2px solid;
  border-color: var(--slider-thumb-border-light) var(--slider-thumb-border-dark) var(--slider-thumb-border-dark) var(--slider-thumb-border-light);
  border-radius: 2px;
  cursor: url('/cursors/Link.cur'), pointer;
  box-shadow:
    inset 1px 1px 0 0 var(--slider-thumb-shadow-light),
    inset -1px -1px 0 0 var(--slider-thumb-shadow-dark),
    -200px 0 0 195px var(--slider-progress-fill);
}

/* Chrome - States */
input[type="range"].retro-slider::-webkit-slider-thumb:hover {
  background: linear-gradient(to bottom, var(--slider-thumb-hover-start) 0%, var(--slider-thumb-hover-mid) 50%, var(--slider-thumb-hover-end) 100%);
}

input[type="range"].retro-slider::-webkit-slider-thumb:active {
  border-color: var(--slider-thumb-border-dark) var(--slider-thumb-border-light) var(--slider-thumb-border-light) var(--slider-thumb-border-dark);
  box-shadow:
    inset -1px -1px 0 0 var(--slider-thumb-shadow-light),
    inset 1px 1px 0 0 var(--slider-thumb-shadow-dark),
    -200px 0 0 195px var(--slider-progress-fill);
}

/* Firefox - Track */
input[type="range"].retro-slider::-moz-range-track {
  width: 100%;
  height: 16px;
  background: linear-gradient(to bottom, #2a3a2a 0%, #1a2a1a 50%, #2a3a2a 100%);
  border: 2px solid;
  border-color: #0a0a0a #4a5a4a #4a5a4a #0a0a0a;
  border-radius: 2px;
}

/* Firefox - Progress (filled part) */
input[type="range"].retro-slider::-moz-range-progress {
  height: 16px;
  background: var(--slider-progress-fill);
  border-radius: 2px 0 0 2px;
}

/* Firefox - Thumb */
input[type="range"].retro-slider::-moz-range-thumb {
  width: 14px;
  height: 20px;
  background: linear-gradient(to bottom, var(--slider-thumb-gradient-start) 0%, var(--slider-thumb-gradient-mid) 50%, var(--slider-thumb-gradient-end) 100%);
  border: 2px solid;
  border-color: var(--slider-thumb-border-light) var(--slider-thumb-border-dark) var(--slider-thumb-border-dark) var(--slider-thumb-border-light);
  border-radius: 2px;
  cursor: url('/cursors/Link.cur'), pointer;
  box-shadow: inset 1px 1px 0 0 var(--slider-thumb-shadow-light), inset -1px -1px 0 0 var(--slider-thumb-shadow-dark);
}

input[type="range"].retro-slider::-moz-range-thumb:hover {
  background: linear-gradient(to bottom, var(--slider-thumb-hover-start) 0%, var(--slider-thumb-hover-mid) 50%, var(--slider-thumb-hover-end) 100%);
}

input[type="range"].retro-slider::-moz-range-thumb:active {
  border-color: var(--slider-thumb-border-dark) var(--slider-thumb-border-light) var(--slider-thumb-border-light) var(--slider-thumb-border-dark);
  box-shadow: inset -1px -1px 0 0 var(--slider-thumb-shadow-light), inset 1px 1px 0 0 var(--slider-thumb-shadow-dark);
}

/* ---------------- Hide scrollbar ---------------- */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari, Opera */
}

